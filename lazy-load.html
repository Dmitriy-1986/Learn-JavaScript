<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .container {
      max-width: 1000px;
      margin: 20px auto;
    }

    img {
      width: 100%;
    }
  </style>
</head>

<body>
  <div class="container">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/apple-shop.jpg?alt=media&token=e73c0304-4292-4ff1-a084-a7fc272bdd33" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/apricot-shop.jpg?alt=media&token=5883669f-bd1b-4f36-a34c-7c31d22c4fbb" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/lemon-shop.jpg?alt=media&token=7d2008fa-6acf-4c2c-98cb-44c646d163c3" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/pear-shop.jpg?alt=media&token=a1b8a5f6-aac1-4941-b209-f1371b7ae076" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/pineapple-shop.jpg?alt=media&token=605585b5-69de-4fcc-bbbc-0a22bda235f7" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/apple-shop.jpg?alt=media&token=e73c0304-4292-4ff1-a084-a7fc272bdd33" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/apricot-shop.jpg?alt=media&token=5883669f-bd1b-4f36-a34c-7c31d22c4fbb" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/lemon-shop.jpg?alt=media&token=7d2008fa-6acf-4c2c-98cb-44c646d163c3" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/pear-shop.jpg?alt=media&token=a1b8a5f6-aac1-4941-b209-f1371b7ae076" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/pineapple-shop.jpg?alt=media&token=605585b5-69de-4fcc-bbbc-0a22bda235f7" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/apple-shop.jpg?alt=media&token=e73c0304-4292-4ff1-a084-a7fc272bdd33" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/apricot-shop.jpg?alt=media&token=5883669f-bd1b-4f36-a34c-7c31d22c4fbb" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/lemon-shop.jpg?alt=media&token=7d2008fa-6acf-4c2c-98cb-44c646d163c3" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/pear-shop.jpg?alt=media&token=a1b8a5f6-aac1-4941-b209-f1371b7ae076" alt="img">
    <img src="" data="https://firebasestorage.googleapis.com/v0/b/dovgal-project.appspot.com/o/pineapple-shop.jpg?alt=media&token=605585b5-69de-4fcc-bbbc-0a22bda235f7" alt="img">
  </div>

  <script>
    const images = document.querySelectorAll('img');
    const options = {
      root: null,
      rootMargin: '0px',
      threshold: 0.1
    }

    function handleImg(myImg, observer) {
      myImg.forEach(myImgSingle => {
        console.log(myImgSingle.intersectionRatio);
        myImgSingle.intersectionRatio;
        if(myImgSingle.intersectionRatio > 0) {
          loadImage(myImgSingle.target);
        }
      })
    }

    function loadImage(image) {
      image.src = image.getAttribute('data');
    }

    const observer = new IntersectionObserver(handleImg, options);
    images.forEach(img => {
      observer.observe(img);
    })

  

  </script>
</body>

</html>
